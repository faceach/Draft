define("troopjs-requirejs/template!widget/loading/index.html",[],function(){return function(a){var b='<div class="loading-spinner">\r\n    <div class="loading-spinner-logo">\r\n        <div class="loading-spinner-icon"></div>\r\n    </div>\r\n    <p></p>\r\n</div>';return b}}),define("widget/loading/main",["troopjs-core/component/gadget","jquery","template!./index.html"],function(a,b,c){"use strict";return a.extend(function(a){var b=this;b.$el=a},{"sig/start":function(){var a=this;!a.$el||a.$el.length<=0||a.$el.html(c)},error:function(a){var b=this,c=b.$el.find(".loading-spinner");c.addClass("error"),a&&c.find("> p").text(a)}})}),define("widget/ajaxquery/main",["jquery","when","context","widget/loading/main"],function(a,b,c,d){"use strict";return function(e,f){function g(){j.done(function(a){var b,c;a?i.resolve(a):(b=a.StatusCode||-999,c=a.Description||"",h&&h.error("Service with error! ["+b+"]"),i.reject(b))}),j.fail(function(a,b){h&&h.error("Service with error!"),i.reject(new Error("Ajax call failed."))})}var h,i=b.defer();f&&f.length>0&&(h=new d(f)),e||(console.log("Ajax call without option!"),i.reject(new Error("Ajax call without option!"))),e.url||(console.log("Ajax call without url!"),i.reject(new Error("Ajax call without url!"))),"GET"===e.type.toUpperCase()&&c.serviceCacheKey&&a.extend(!0,e,{data:{v:c.serviceCacheKey}}),c.serviceDomain||a.extend(!0,e,{type:"GET"});var j=a.ajax(e);return h?h.start().then(g):g(),i.promise}}),define("widget/basic/cloneobject",["jquery","underscore"],function(a,b){"use strict";return function c(a){if("object"!=typeof a)return a;if(null===a)return a;var d=b.isArray(a)?[]:{},e=!1;for(var f in a)a.hasOwnProperty(f)&&(d[f]=c(a[f]),e=!0);return e?d:a}}),define("widget/basic/number",["jquery"],function(a){"use strict";return{getDecimal:function(a,b){return b=b||2,a=parseFloat(a),isNaN(a)?!1:a.toFixed(b)}}}),define("widget/troophash/main",["jquery"],function(a){"use strict";return{parse:function(a){if(!a||a.length<=0)return!1;var b={},c=0,d=a.length;for(c=0;d>c;c+=2)b[a[c]]=a[c+1];return b},extend:function(a){var b=this;if(a){var c=location.hash||"",d=c?b.parse(c.substr(1).split("/")):{};_.extend(d,a);var e,f,g="";for(e in d)f=d[e],(f||!isNaN(f))&&(g+="/"+e+"/"+d[e]);location.hash=g.substr(1)}}}}),define("troopjs-requirejs/template!widget/campaign/index.html",[],function(){return function(a){function b(b,d){c+='\r\n    <li class="campaign-lifestyle '+d+'">\r\n        <img src="'+a.cacheServer+"/assets/images/desktop/bg/"+(b.picture||"")+'.png" width="100%" alt="">\r\n        <div class="oblique-strip">\r\n            <a href="#" data-action="choosescene" data-scene-id="'+b.id+'" data-t-cat="mwc2015-smartlife" data-t-act="click" data-t-label="scene-'+(b.name||"")+'">\r\n                '+(b.name||"")+'\r\n                <span class="caret caret-r"></span>\r\n            </a>\r\n        </div>\r\n    </li>\r\n'}var c="",d=a.scene;return c+='\r\n<div class="campaign-topic">\r\n    <h1>\r\n        What\'s your smarter living style?\r\n    </h1>\r\n    <small class="campaign-topic-subtitle">\r\n        Find out now. OR Answer, and find out!\r\n        <i class="left"></i>\r\n        <i class="right"></i>\r\n    </small>\r\n    <p>\r\n        ',c+=a.daynight?"\r\n            It's a beautiful day, and I'm...\r\n        ":"\r\n            It's the beginning of the night, and I'm...\r\n        ",c+='\r\n    </p>\r\n</div>\r\n<div class="campaign-fn">\r\n    <div class="oblique-container page-width">\r\n        <ul class="oblique oblique-lg">\r\n        ',function(){var a=0,c=d.length,e="";for(a=0;c>a;a++)e="",0===a?e="left":2===a&&(e="right"),b(d[a],e)}(),c+='\r\n        </ul>\r\n        <div class="oblique-side left"></div>\r\n        <div class="oblique-side right"></div>\r\n    </div>\r\n</div>\r\n\r\n'}}),define("troopjs-requirejs/template!widget/campaign/mobile.html",[],function(){return function(a){function b(b,d){c+='\r\n    <li class="campaign-lifestyle '+d+'">\r\n        <img src="'+a.cacheServer+"/assets/images/mobile/bg/"+(b.picture||"")+'.jpg" width="100%" alt="">\r\n        <div class="scenestrip-text">\r\n            <a href="#" data-action="choosescene" data-scene-id="'+b.id+'" data-t-cat="mwc2015-smartlife" data-t-act="click" data-t-label="scene-'+(b.name||"")+'">\r\n                '+(b.name||"")+"\r\n            </a>\r\n        </div>\r\n    </li>\r\n"}var c="",d=a.scene;return c+='\r\n<div class="campaign-topic">\r\n    <h1>\r\n        What\'s your smarter living style?\r\n    </h1>\r\n    <small class="campaign-topic-subtitle">\r\n        Find out now. OR Answer, and find out!\r\n        <i class="left"></i>\r\n        <i class="right"></i>\r\n    </small>\r\n    <p>\r\n        ',c+=a.daynight?"\r\n            It's a beautiful day, and I'm...\r\n        ":"\r\n            It's the beginning of the night, and I'm...\r\n        ",c+='\r\n    </p>\r\n</div>\r\n<div class="campaign-fn">\r\n    <ul class="scenestrip">\r\n    ',function(){var a=0,c=d.length,e="";for(a=0;c>a;a++)0===a?e="left":2===a&&(e="right"),b(d[a],e)}(),c+="\r\n    </ul>\r\n</div>\r\n\r\n"}}),define("widget/campaign/main",["troopjs-browser/component/widget","jquery","context","widget/ajaxquery/main","widget/troophash/main","template!./index.html","template!./mobile.html"],function(a,b,c,d,e,f,g){"use strict";var h="./api/scene.json";return a.extend(function(a,b,d){var e=this;return!c.isMobile!=!d?void e.stop():(e.isMobile=d||!1,void(e.template=e.isMobile?g:f))},{render:function(){var a=this,b=a.$element;b.siblings().hide(),b.show(),d({url:h,type:"GET",dataType:"json"},b).then(function(b){a.html(a.template,{cacheServer:c.cacheServer,daynight:c.daynight,scene:c.daynight?b.day:b.night})})},"hub:memory/route":function(a,b){var c=this,d=(c.$element,a.path);if(!d)return void c.render();var f=e.parse(d),g=parseInt(f.step,10);g&&g>1||c.render()},"dom:[data-action=choosescene]/click":function(a){a.preventDefault();var c=this,d=(c.$element,b(a.currentTarget)),f=d.data("sceneId");e.extend({step:2,scene:f})}})}),define("widget/cookie/main",["jquery","when","jquery.cookie"],function(a,b){"use strict";var c={fb_info:"FB_INFO"};return{set:function(d,e,f){return void 0===d?b.reject("key is undefined"):void 0===e?b.reject("value is undefined"):(d=c[d.toLowerCase()])?(a.cookie(d,e,f),b.resolve()):b.reject("key is not registed")},get:function(d){if(void 0===d)return b.reject("key is undefined");d=c[d.toLowerCase()];var e=d?a.cookie(d):"";return e?b.resolve(e):b.reject("No cookie for "+d)},getVal:function(b){if(void 0!==b){b=c[b.toLowerCase()];var d=b?a.cookie(b):"";return d}},getAll:function(){return b.resolve(a.cookie())},rm:function(d,e){return void 0===d?b.reject("key is undefined"):(d=c[d.toLowerCase()])?(a.removeCookie(d,e),b.resolve()):b.reject("key is not registed")}}}),define("widget/daynight/init",["troopjs-core/component/base","widget/cookie/main"],function(a,b){"use strict";var c=7,d=19;return a.extend({init:function(){var a=new Date,b=a.getHours();return b>=c&&d>b?!0:!1}})}),define("widget/daynight/main",["troopjs-browser/component/widget","jquery","context"],function(a,b,c){"use strict";return a.extend({"sig/start":function(){var a=this,b=a.$element;c.daynight?b.removeClass("night").addClass("day"):b.removeClass("day").addClass("night")}})}),define("widget/feature/map",{1:"sapphireglass",2:"elegantappearance",3:"instantnotifications",4:"heartratedetection",5:"customizability",6:"googlefunctions",7:"touchscreen",8:"stylishdesign",9:"instantnotifications",10:"motionrecognition",11:"polysomnography",12:"bluetoothearpiece",13:"fashionablestyle",14:"highsoundquality",15:"waterproof",16:"dustproof",17:"mp3store",18:"touchscreen",19:"stylishdesign",20:"instantnotifications",21:"motionrecognition",22:"polysomnography",23:"bluetoothearpiece",24:"touchscreen",25:"stylishdesign",26:"instantnotifications",27:"motionrecognition",28:"polysomnography",29:"bluetoothearpiece",30:"fashionablestyle",31:"highsoundquality",32:"waterproof",33:"dustproof",34:"mp3store",35:"touchscreen",36:"stylishdesign",37:"instantnotifications",38:"motionrecognition",39:"polysomnography",40:"bluetoothearpiece",41:"sapphireglass",42:"elegantappearance",43:"instantnotifications",44:"heartratedetection",45:"customizability",46:"googlefunctions",47:"fashionablestyle",48:"highsoundquality",49:"waterproof",50:"dustproof",51:"mp3store",52:"touchscreen",53:"stylishdesign",54:"instantnotifications",55:"motionrecognition",56:"polysomnography",57:"bluetoothearpiece",58:"sapphireglass",59:"elegantappearance",60:"instantnotifications",61:"heartratedetection",62:"customizability",63:"googlefunctions",64:"touchscreen",65:"stylishdesign",66:"instantnotifications",67:"motionrecognition",68:"polysomnography",69:"bluetoothearpiece"}),define("troopjs-requirejs/template!widget/feature/index.html",[],function(){return function(a){function b(a,b){var c=Math.ceil(b/3).toString()+(b%3===0?3:b%3).toString(),d=h[a.id.toString()];e+='\r\n    <li class="campaign-feature campaign-feature-'+c+'">\r\n        <div class="cf campaign-feature-icon campaign-feature-icon-'+d+'">\r\n            <span class="campaign-feature-icon-text">'+(a.name||"")+'</span>\r\n            <a class="campaign-feature-active" data-action="addfeature" data-feature-id="'+a.id+'" data-t-cat="mwc2015-smartlife" data-t-act="click" data-t-label="feature-'+d+'"></a>\r\n            <a class="campaign-feature-add" data-action="addfeature" data-feature-id="'+a.id+'" data-t-cat="mwc2015-smartlife" data-t-act="click" data-t-label="feature-'+d+'"></a>\r\n        </div>\r\n    </li>\r\n'}var c,d,e="",f=a.scene,g=a.features,h=a.map,i=0,j=g.length%2===0?g.length/2:(g.length+1)/2,k=j,l=g.length;for(e+='\r\n<div class="campaign-topic">\r\n    <h1>\r\n        What\'s your smarter living style?\r\n    </h1>\r\n    <small class="campaign-topic-subtitle">\r\n        Find out now.\r\n        <i class="left"></i>\r\n        <i class="right"></i>\r\n    </small>\r\n    <p>\r\n        When you are in '+(f.name||"")+'. What kind of function you would like your smart device to have?\r\n        <br>\r\n        <span>(Please Choose three options in order)</span>\r\n    </p>\r\n</div>\r\n<div class="campaign-fn">\r\n    <div class="oblique-container page-width">\r\n        <ul class="oblique oblique-lg cf">\r\n            <li class="campaign-lifestyle left campaign-lifestyle-feature">\r\n                <div class="oblique-subcontainer">\r\n                    <ul class="oblique">\r\n                        ',c=i;j>c;c++)b(g[c],c+1);for(e+='\r\n                    </ul>\r\n                    <div class="oblique-side left"></div>\r\n                </div>\r\n            </li>\r\n            <li class="campaign-lifestyle campaign-lifestyle-active">\r\n                <img src="'+a.cacheServer+"/assets/images/desktop/bg/"+(f.picture||"")+'.png" width="100%" alt="">\r\n                <div class="oblique-strip">\r\n                    <a href="#" data-action="choosefeature" data-scene-id="'+f.id+'">\r\n                        ANNOUNCED\r\n                        <span class="caret caret-r"></span>\r\n                    </a>\r\n                    <!--a class="inlineblock btn-facebook" data-action="loginfacebook">\r\n                        LOGIN\r\n                        <span class="caret caret-r"></span>\r\n                    </a-->\r\n                </div>\r\n            </li>\r\n            <li class="campaign-lifestyle right campaign-lifestyle-feature">\r\n                <div class="oblique-subcontainer">\r\n                    <ul class="oblique">\r\n                        ',d=k;l>d;d++)b(g[d],d+1-k);return e+='\r\n                    </ul>\r\n                    <div class="oblique-side right"></div>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>\r\n\r\n'}}),define("troopjs-requirejs/template!widget/feature/mobile.html",[],function(){return function(a){function b(a,b){var c=Math.ceil(b/3).toString()+(b%3===0?3:b%3).toString(),e=g[a.id.toString()]||"";d+='\r\n    <li class="campaign-feature campaign-feature-'+c+'">\r\n        <div class="cf campaign-feature-icon campaign-feature-icon-'+e+'">\r\n            <span class="campaign-feature-icon-text">'+(a.name||"")+'</span>\r\n            <a class="campaign-feature-active" data-action="addfeature" data-feature-id="'+a.id+'" data-t-cat="mwc2015-smartlife" data-t-act="click" data-t-label="feature-'+e+'"></a>\r\n            <a class="campaign-feature-add" data-action="addfeature" data-feature-id="'+a.id+'" data-t-cat="mwc2015-smartlife" data-t-act="click" data-t-label="feature-'+e+'"></a>\r\n        </div>\r\n    </li>\r\n'}var c,d="",e=a.scene,f=a.features,g=a.map,h=0,i=f.length;for(d+='\r\n<div class="campaign-topic">\r\n    <h1>\r\n        What\'s your smarter living style?\r\n    </h1>\r\n    <small class="campaign-topic-subtitle">\r\n        Find out now.\r\n        <i class="left"></i>\r\n        <i class="right"></i>\r\n    </small>\r\n    <p>\r\n        When you are in '+(e.name||"")+'. What kind of function you would like your smart device to have?\r\n        <br>\r\n        <span>(Please Choose three options in order)</span>\r\n    </p>\r\n</div>\r\n<div class="campaign-fn">\r\n    <div class="oblique-container feature-cnt-'+i+' page-width">\r\n        <div class="oblique-subcontainer">\r\n            <ul class="oblique">\r\n                ',c=h;i>c;c++)b(f[c],c+1);return d+='\r\n            </ul>\r\n            <div class="oblique-side left"></div>\r\n            <div class="oblique-side right feature-cnt-'+i+'">\r\n                <a href="#" class="btn" data-action="choosefeature" data-scene-id="'+e.id+'">\r\n                    ANNOUNCED\r\n                    <span class="arrow arrow-r"></span>\r\n                </a>\r\n                <!--a class="inlineblock btn-facebook" data-action="loginfacebook">\r\n                    LOGIN\r\n                    <span class="caret caret-r"></span>\r\n                </a-->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n'}}),define("widget/feature/main",["troopjs-browser/component/widget","jquery","when","context","widget/cookie/main","widget/ajaxquery/main","widget/troophash/main","widget/feature/map","template!./index.html","template!./mobile.html","underscore"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k="./api/scene.json",l=d.serviceDomain+"service/loadfeatures",m=d.serviceDomain+"service/saveuser",n=d.serviceDomain+"service/savechoice";d.isDebug&&(l="./api/loadfeatures.json");var o=3;return a.extend(function(a,b,c){var e=this;return!d.isMobile!=!c?void e.stop():(e.isMobile=c||!1,e.template=e.isMobile?j:i,void(e.selectedFeatures=[]))},{"hub:memory/route":function(a,b){var e=this,i=e.$element,j=a.path;if(j){var m=g.parse(j),n=parseInt(m.step,10),o=e.sceneId=parseInt(m.scene,10);2===n&&(i.siblings().hide(),i.show(),c.join(f({url:k,type:"GET",dataType:"json"}),f({url:l,data:{scene_id:o},type:d.isDebug?"GET":"POST",dataType:"json"})).then(function(a){var b,c=a[0],f=a[1],g=d.daynight?c.day:c.night;_.each(g,function(a,c){a.id===o&&(b=a)}),e.html(e.template,{cacheServer:d.cacheServer,daynight:d.daynight,scene:b,features:f,map:h})}))}},"dom:[data-action=addfeature]/click":function(a){a.preventDefault();var c=this,d=(c.$element,b(a.currentTarget)),e=d.data("featureId");if(_.indexOf(c.selectedFeatures,e)>=0)c.selectedFeatures=_.without(c.selectedFeatures,e),d.parents("li").removeClass("active");else{if(c.selectedFeatures.length>=o)return void alert("Please Choose three options in order");c.selectedFeatures.push(e),d.parents("li").addClass("active")}},"dom:[data-action=choosefeature]/click":function(a){a.preventDefault();{var b=this;b.$element}return b.selectedFeatures.length<o?void alert("Please Choose three options in order"):d.isDebug?void g.extend({step:3}):void b.checkFacebookLogin().then(function(a){b.saveFeature(a)})},saveFeature:function(a){var b=this,c=b.$element;f({url:n,data:{fbid:a,scene_id:b.sceneId,first_choice:b.selectedFeatures[0],second_choice:b.selectedFeatures[1],third_choice:b.selectedFeatures[2]},type:"POST",dataType:"json"},c).then(function(a){g.extend({step:3})})},checkFacebookLogin:function(){function a(){FB.login(function(a){a.authResponse?(console.log("Welcome!  Fetching your information.... "),access_token=a.authResponse.accessToken,user_id=a.authResponse.userID,FB.getLoginStatus(function(a){b(a)})):console.log("User cancelled login or did not fully authorize.")},{scope:"email"})}function b(b){console.log("statusChangeCallback"),console.log(b),"connected"===b.status?(FB.api("/me",function(a){i.resolver.resolve(a)}),FB.api("/me/picture",{redirect:!1,height:200,width:200,type:"normal"},function(a){j.resolver.resolve(a.data)})):"not_authorized"===b.status?(console.log("Please log into this app."),a()):(console.log("Please log into Facebook."),a())}var d=this,g=d.$element,h=c.defer(),i=c.defer(),j=c.defer();return FB.getLoginStatus(function(a){b(a)}),c.join(i.promise,j.promise).then(function(a){var b=a[0],c=a[1];if(b.id){var d={fbid:b.id,name:b.name||"",pic:c.url||"",link:b.link||"",email:b.email||"",locale:b.locale||"en_US",gender:b.gender||"male"};e.set("fb_info",JSON.stringify(d),{path:"/"}),f({url:m,data:d,type:"POST",dataType:"json"},g).then(function(){h.resolver.resolve(d.fbid)})}}),h.promise}})}),define("troopjs-requirejs/template!widget/logo/index.html",[],function(){return function(a){var b="",c=a.daynight?"logo_day.png":"logo_night.png";return b+='\r\n<img src="'+a.cacheServer+"/assets/images/desktop/"+c+'" alt="Huawei">'}}),define("troopjs-requirejs/template!widget/logo/mobile.html",[],function(){return function(a){var b="",c=a.daynight?"logo_day.png":"logo_night.png";return b+='\r\n<img src="'+a.cacheServer+"/assets/images/mobile/"+c+'" alt="Huawei">'}}),define("widget/logo/main",["troopjs-browser/component/widget","jquery","context","template!./index.html","template!./mobile.html"],function(a,b,c,d,e){"use strict";return a.extend(function(a,b,c){var f=this;f.isMobile=c||!1,f.template=f.isMobile?e:d},{"sig/start":function(){{var a=this;a.$element}a.html(a.template,{cacheServer:c.cacheServer,daynight:c.daynight})}})}),define("troopjs-requirejs/template!widget/popupbox/index.html",[],function(){return function(a){function b(a){c+="\r\n    ",a&&(c+='\r\n        <style>\r\n            .popupbox-close\r\n            {\r\n                position: absolute;\r\n                right: 0;\r\n                top: 0;\r\n                cursor: pointer;\r\n            }\r\n        </style>\r\n        <a class="popupbox-close hidden-print" title="Close">&times;</a>\r\n    '),c+="\r\n"}var c='<div class="popupbox-cover" style="\r\n    position: '+(a.position||"fixed")+";\r\n    z-index: "+(a.zIndex||1)+";\r\n    background-color: "+(a.bgColor||"#000")+";\r\n    opacity: "+(a.opacity||.8)+";\r\n    _filter: alpha(opacity="+100*(a.opacity||.8)+");\r\n    margin-top: "+(a.top||0)+'px;\r\n">\r\n    ';return a.keySupport&&(c+='\r\n        <style>\r\n            input.popupbox-keysupport\r\n            {\r\n                width: 1px;\r\n                height: 1px;\r\n                border-width: 0;\r\n                overflow: hidden;\r\n                background-color: transparent;\r\n                outline: none;\r\n                position: absolute;\r\n                top: -1px;\r\n            }\r\n        </style>\r\n        <input class="popupbox-keysupport" type="text" />\r\n    '),c+='\r\n</div>\r\n<div class="popupbox" style="\r\n    position: '+(a.position||"fixed")+";\r\n    z-index: "+(a.zIndex||1)+";\r\n    margin-top: "+(a.top||0)+'px;\r\n">\r\n    <div class="popupbox-main" ',a.closeble&&(c+='data-action="closepopupbox"'),c+=' style="\r\n        height: 100%;\r\n        ',a.fullSize||(c+="\r\n            text-align: center;\r\n        "),c+='\r\n    ">\r\n        ',a.isInnerClose||b(a.hasCloseButton),c+='\r\n        <div class="popupbox-content popupbox-out" style="\r\n            ',a.fullSize||(c+="\r\n                text-align: left;\r\n                display: inline-block;\r\n                *display: inline;\r\n                *zoom: 1;\r\n            "),c+='\r\n        ">\r\n            ',a.isInnerClose&&b(a.hasCloseButton),c+="\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n",c+="\r\n<style>\r\n    style\r\n    {\r\n        display: none;\r\n    }\r\n    /*\r\n    * Animation for pop effect\r\n    */\r\n    /* No animation */\r\n    .popupbox-in\r\n    {\r\n        visibility: visible;\r\n    }\r\n    .popupbox-out\r\n    {\r\n        visibility: hidden;\r\n    }\r\n    /* With animation */\r\n    .popupbox-pop {\r\n        -webkit-transform-origin: 50% 50%;\r\n        -moz-transform-origin: 50% 50%;\r\n    }\r\n    .popupbox-pop.popupbox-in {\r\n        visibility: visible;\r\n        opacity: 1;\r\n        box-shadow: 0 0 30px #666;\r\n        -webkit-transform: scale(1);\r\n\r\n        -webkit-animation-name: popin;\r\n        -moz-animation-name: popin;\r\n        -webkit-animation-duration: 200ms;\r\n        -moz-animation-duration: 200ms;\r\n        -webkit-animation-timing-function: ease-out;\r\n        -moz-animation-timing-function: ease-out;\r\n    }\r\n    .popupbox-pop.popupbox-out {\r\n        visibility: visible;\r\n        opacity: 0;\r\n        -webkit-transform: scale(.8);\r\n\r\n        -webkit-animation-name: popout;\r\n        -moz-animation-name: popout;\r\n        -webkit-animation-duration: 100ms;\r\n        -moz-animation-duration: 100ms;\r\n        -webkit-animation-timing-function: ease-in;\r\n        -moz-animation-timing-function: ease-in;\r\n    }\r\n    @-webkit-keyframes popin {\r\n        from {\r\n            -webkit-transform: scale(.8);\r\n            opacity: 0;\r\n        }\r\n        to {\r\n            -webkit-transform: scale(1);\r\n            opacity: 1;\r\n        }\r\n    }\r\n    @-webkit-keyframes popout {\r\n        from {\r\n            -webkit-transform: scale(1);\r\n            opacity: 1;\r\n        }\r\n        to {\r\n            -webkit-transform: scale(.8);\r\n            opacity: 0;\r\n        }\r\n    }\r\n    /* evc style */\r\n    .popupbox-cover,\r\n    .popupbox\r\n    {\r\n        position: fixed;\r\n        left: 0;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n    }\r\n    .popupbox-main,\r\n    .popupbox-content\r\n    {\r\n        position: relative;\r\n    }\r\n    .popupbox-main\r\n    {\r\n        overflow-y: auto;\r\n        overflow-x: hidden;\r\n    }\r\n    .popupbox-content\r\n    {\r\n        -webkit-transition: margin-top .3s ease-out;\r\n        -moz-transition: margin-top .3s ease-out;\r\n        -o-transition: margin-top .3s ease-out;\r\n        transition: margin-top .3s ease-out;\r\n    }\r\n</style>"}}),define("widget/popupbox/main",["troopjs-browser/component/widget","troopjs-browser/loom/weave","jquery","template!./index.html"],function(a,b,c,d){"use strict";function e(){var a=navigator.userAgent;return a.indexOf("Windows NT")>=0||a.indexOf("Macintosh")>=0}function f(a,b){return!a||a.length<=0?{popIn:c.noop,popOut:c.noop}:(b?a.removeClass("popupbox-pop"):a.addClass("popupbox-pop"),{popIn:function(){a.removeClass("popupbox-out").addClass("popupbox-in")},popOut:function(){a.removeClass("popupbox-in").addClass("popupbox-out")}})}return a.extend(function(a){var b=this;b.el=a.$el||"body",b.msg=a.msg||"",b.overLap=a.overLap||"replace",b.stick=a.stick||!1,b.stickTop=a.stickTop||0,b.top=a.top||0,b.noAnimation=a.noAnimation||!1,b.bgColor=a.bgColor||"#fff",b.opacity=a.opacity||.6,b.position=a.position||"fixed",b.zIndex=a.zIndex||1,b.fullSize=a.fullSize||!1,b.closeble=a.closeble||!1,b.closeButtonHide=a.closeButtonHide||!1,b.closeButtonList=a.closeButtonList||[],b.closeInner=a.closeInner||!1,b.closeCallback=a.closeCallback||c.noop},{open:function(){function a(){i.closeButtonList.length>0&&c.each(i.closeButtonList,function(a,b){i.$popupBox.on("click","[data-action=closepopupbox]",function(a){"closepopupbox"===c(a.target).data("action")&&i.close()}),i.$popupBox.on("click",b,function(a){a.preventDefault(),i.close()})})}function g(){var a=i.$popupBoxCover.find("input.popupbox-keysupport");a.length>0&&a.focus().keydown(function(a){27==a.which&&i.close(),a.preventDefault()})}function h(){c(window).resize(function(a){i.centralize()})}var i=this,j=c.Deferred(),k=c(i.el);k.length<=0&&(k=c("body"));var l=k.find(" > div.popupbox, > div.popupbox-cover");if(l.length>0){if("cancel"===i.overLap)return j.reject(),j.promise();"replace"===i.overLap&&l.remove()}i.$popupBoxWrapper=c(d({bgColor:i.bgColor,opacity:i.opacity,position:i.position,zIndex:i.zIndex,top:i.top,fullSize:i.fullSize,keySupport:e(),closeble:i.closeble,hasCloseButton:i.closeble&&!i.closeButtonHide,isInnerClose:i.closeInner})),i.$popupBoxCover=i.$popupBoxWrapper.filter(".popupbox-cover"),i.$popupBox=i.$popupBoxWrapper.filter(".popupbox"),i.$popupBoxMain=i.$popupBox.find(".popupbox-main"),i.$popupBoxContent=i.$popupBox.find(".popupbox-content"),i.stick||h();var m=c(i.msg);return i.$popupBoxContent.prepend(m),i.$popupBoxWrapper.appendTo(k),b.apply(m.find("[data-weave]")).then(function(){i.centralize()}),i.closeble&&(i.closeButtonList.push("a.popupbox-close"),a(),g()),i.noAnimation?(i.$popupBoxCover.show(),f(i.$popupBoxContent,!0).popIn(),j.resolve()):i.$popupBoxCover.fadeIn(400,function(){f(i.$popupBoxContent).popIn(),j.resolve()}),j.promise()},close:function(a){function b(){a||d.closeCallback()}var d=this,e=c.Deferred();return d.noAnimation?(f(d.$popupBoxContent,!0).popOut(),d.$popupBoxCover.hide(),b(),d.$popupBoxWrapper.remove(),e.resolve()):(f(d.$popupBoxContent).popOut(),window.setTimeout(function(){d.$popupBoxCover.fadeOut(200,function(){b(),d.$popupBoxWrapper.remove(),e.resolve()})},100)),e.promise()},centralize:function(){var a=this,b=a.$popupBox,c=a.$popupBoxContent,d=b.height(),e=c.outerHeight(),f=a.stick?a.stickTop:Math.floor((d-e)/2);return f=0>f?0:f,c.css("margin-top",f),a}})}),define("widget/querystring/main",["jquery","when"],function(a,b){"use strict";return{getRequest:function(){var a=location.search,b={};if(-1!==a.indexOf("?"))for(var c=a.substr(1),d=c.split("&"),e=0,f=d.length;f>e;e++)b[d[e].split("=")[0].toLowerCase()]=unescape(d[e].split("=")[1]);return b}}}),define("widget/result/map",{1:{name:"watch",nameImage:"text_watch.png",picture:["watch_01.png","watch_02.png","watch_03.png"],slogan:["Timeless design","Smart connectivity","Smart tracking"],link:"http://consumer.huawei.com/minisite/worldwide/huawei-watch/index.htm"},2:{name:"talkband b2",nameImage:"text_talkband_b2.png",picture:["talkband_b2_01.png","talkband_b2_02.png","talkband_b2_03.png"],slogan:["Premium design","Intelligent tracking","Seamless connection"],link:"http://consumer.huawei.com/minisite/worldwide/talkband-b2/index.htm"},3:{name:"talkband n1",nameImage:"text_talkband_n1.png",picture:["talkband_n1_01.png","talkband_n1_02.png","talkband_n1_03.png"],slogan:["Impressive sound, Hands-free talking","Fitness with tracking","Beautifully designed, Suitable for all occasions"],link:"http://consumer.huawei.com/minisite/worldwide/talkband-n1/index.htm"}}),define("troopjs-requirejs/template!widget/result/index.html",[],function(){return function(a){var b="",c=a.fbInfo,d=a.result,e=a.map,f=d.first_choice_string.replace("xx%","<strong>"+d.first_choice_percent+"%</strong>"),g=d.second_choice_string.replace("xx%","<strong>"+d.second_choice_percent+"%</strong>"),h=d.third_choice_string.replace("xx%","<strong>"+d.third_choice_percent+"%</strong>"),i=e[d.product_id],j=i.picture,k=0,l=j.length,m=i.slogan,n=0,o=m.length;for(b+='\r\n<div class="campaign-fn">\r\n    <div class="page-width campaign-result">\r\n        <div class="campaign-result-report cf">\r\n            <div class="campaign-result-report-title">\r\n                <div class="inlineblock">\r\n                    '+d.nick_name+" "+c.name+'\r\n                </div>\r\n                <a class="inlineblock" href="'+c.link+'" target="_blank">                \r\n                    <img class="inlineblock" src="'+c.pic+'" alt="">\r\n                </a>\r\n            </div>\r\n            <div class="campaign-result-report-item campaign-result-report-item-1">\r\n                <div class="inlineblock campaign-result-report-data">\r\n                    '+f+'\r\n                </div>\r\n                <img class="inlineblock" src="'+a.cacheServer+"/assets/images/desktop/icon/report/preference_"+d.first_choice+'.png" alt="">\r\n            </div>\r\n            <div class="campaign-result-report-item campaign-result-report-item-2">\r\n                <div class="inlineblock campaign-result-report-data">\r\n                    '+g+'\r\n                </div>\r\n                <img class="inlineblock" src="'+a.cacheServer+"/assets/images/desktop/icon/report/preference_"+d.second_choice+'.png" alt="">\r\n            </div>\r\n            <div class="campaign-result-report-item campaign-result-report-item-3">\r\n                <div class="inlineblock campaign-result-report-data">\r\n                    '+h+'\r\n                </div>\r\n                <img class="inlineblock" src="'+a.cacheServer+"/assets/images/desktop/icon/report/preference_"+d.third_choice+'.png" alt="">\r\n            </div>\r\n            <div class="campaign-result-report-item campaign-result-report-viewall">\r\n                <div class="campaign-result-report-inside">\r\n                    <a class="inlineblock btn-facebook" data-action="sharefacebook" data-result-id="'+d.id+'">\r\n                        SHARE\r\n                        <span class="caret caret-r"></span>\r\n                    </a>\r\n                    <!--a class="inlineblock btn-viewall" href="#">\r\n                        VIEW ALL RESULT\r\n                        <span class="caret caret-r"></span>\r\n                    </a-->\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="campaign-result-product">\r\n            <div class="thumbnail">\r\n                <p class="thumbnail-pre">AS THE RESULT, WE RECOMMEND</p>\r\n                <h3>\r\n                    <img src="'+a.cacheServer+"/assets/images/desktop/product/"+i.nameImage+'" alt="'+i.name+'">\r\n                </h3>\r\n                <div class="swipe" data-weave="widget/swipe/main" data-disable-bullets="true" data-auto="3000">\r\n                    <div class="swipe-wrap">\r\n                        ',k=0;l>k;k++)b+='\r\n                            <div>\r\n                                <img src="'+a.cacheServer+"/assets/images/desktop/product/"+j[k]+'" alt="'+i.name+'">\r\n                            </div>\r\n                        ';for(b+='\r\n                    </div>\r\n                </div>\r\n                <div class="caption">\r\n                    <ul>\r\n                        ',n=0;o>n;n++)b+="\r\n                            <li>"+m[n]+"</li>\r\n                        ";return b+='\r\n                    </ul>\r\n                    <p>\r\n                        <a href="'+i.link+'" target="_blank" class="btn">\r\n                            LEARN MORE\r\n                            <span class="arrow arrow-r"></span>\r\n                        </a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>                        \r\n    </div>\r\n</div>'}}),define("troopjs-requirejs/template!widget/result/mobile.html",[],function(){return function(a){var b="",c=a.fbInfo,d=a.result,e=a.map,f=d.first_choice_string.replace("xx%","<strong>"+d.first_choice_percent+"%</strong>"),g=d.second_choice_string.replace("xx%","<strong>"+d.second_choice_percent+"%</strong>"),h=d.third_choice_string.replace("xx%","<strong>"+d.third_choice_percent+"%</strong>"),i=e[d.product_id],j=i.picture,k=0,l=j.length,m=i.slogan,n=0,o=m.length;for(b+='\r\n<div class="campaign-fn">\r\n    <div class="page-width campaign-result">\r\n        <div class="campaign-result-report cf">\r\n            <div class="campaign-result-report-title">\r\n                <div class="inlineblock">\r\n                    '+d.nick_name+" "+c.name+'\r\n                </div>\r\n                <a class="inlineblock" href="'+c.link+'" target="_blank">                \r\n                    <img class="inlineblock" src="'+c.pic+'" alt="">\r\n                </a>\r\n            </div>\r\n            <div class="campaign-result-report-item campaign-result-report-item-1">\r\n                <img class="inlineblock" src="'+a.cacheServer+"/assets/images/desktop/icon/report/preference_"+d.first_choice+'.png" alt="">\r\n                <div class="inlineblock campaign-result-report-data">\r\n                    '+f+'\r\n                </div>\r\n            </div>\r\n            <div class="campaign-result-report-item campaign-result-report-item-2">\r\n                <div class="inlineblock campaign-result-report-data">\r\n                    '+g+'\r\n                </div>\r\n                <img class="inlineblock" src="'+a.cacheServer+"/assets/images/desktop/icon/report/preference_"+d.second_choice+'.png" alt="">\r\n            </div>\r\n            <div class="campaign-result-report-item campaign-result-report-item-3">\r\n                <img class="inlineblock" src="'+a.cacheServer+"/assets/images/desktop/icon/report/preference_"+d.third_choice+'.png" alt="">\r\n                <div class="inlineblock campaign-result-report-data">\r\n                    '+h+'\r\n                </div>\r\n            </div>\r\n            <div class="campaign-result-report-item campaign-result-report-viewall">\r\n                <div class="campaign-result-report-inside">\r\n                    <a class="inlineblock btn-facebook" data-action="sharefacebook" data-result-id="'+d.id+'">\r\n                        SHARE\r\n                        <span class="caret caret-r"></span>\r\n                    </a>\r\n                </div>\r\n                <!--div class="campaign-result-report-inside">\r\n                    <a class="inlineblock btn-viewall" href="#">\r\n                        VIEW ALL RESULT\r\n                        <span class="caret caret-r"></span>\r\n                    </a>\r\n                </div-->\r\n            </div>\r\n        </div>\r\n        <div class="campaign-result-product">\r\n            <div class="thumbnail">\r\n                <p class="thumbnail-pre">\r\n                	AS THE RESULT, WE RECOMMEND\r\n                	<i class="left"></i>\r\n                	<i class="right"></i>\r\n                </p>\r\n                <h3>\r\n                    <img src="'+a.cacheServer+"/assets/images/desktop/product/"+i.nameImage+'" alt="'+i.name+'">\r\n                </h3>\r\n                <div class="swipe" data-weave="widget/swipe/main" data-disable-bullets="true" data-auto="3000">\r\n                    <div class="swipe-wrap">\r\n                        ',
k=0;l>k;k++)b+='\r\n                            <div>\r\n                                <img src="'+a.cacheServer+"/assets/images/desktop/product/"+j[k]+'" alt="'+i.name+'">\r\n                            </div>\r\n                        ';for(b+='\r\n                    </div>\r\n                </div>\r\n                <div class="caption">\r\n                    <ul>\r\n                        ',n=0;o>n;n++)b+="\r\n                            <li>"+m[n]+"</li>\r\n                        ";return b+='\r\n                    </ul>\r\n                    <p>\r\n                        <a href="'+i.link+'" target="_blank" class="btn">\r\n                            LEARN MORE\r\n                            <span class="arrow arrow-r"></span>\r\n                        </a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>                        \r\n    </div>\r\n</div>'}}),define("widget/result/main",["troopjs-browser/component/widget","jquery","context","widget/cookie/main","widget/ajaxquery/main","widget/troophash/main","widget/result/map","template!./index.html","template!./mobile.html"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=c.serviceDomain+"service/loaduserresult";if(c.isDebug)var j="./api/loaduserresult.json";return a.extend(function(a,b,d){var e=this;return!c.isMobile!=!d?void e.stop():(e.isMobile=d||!1,void(e.template=e.isMobile?i:h))},{"hub:memory/route":function(a,b){var h=this,i=h.$element,k=a.path;if(k){var l=f.parse(k),m=parseInt(l.step,10);if(3===m)return i.siblings().hide(),i.show(),c.isDebug?void e({url:j,type:"GET",dataType:"json"},i).then(function(a){h.html(h.template,{cacheServer:c.cacheServer,daynight:c.daynight,result:a,map:g,fbInfo:{fbid:"0",name:"Alejandro",pic:"./assets/images/desktop/logo.png",link:"http://www.huawei.com",email:"master@huawei.com"}})}):void d.get("fb_info").then(function(a){var b=JSON.parse(a);e({url:j,data:{fbid:b.fbid},type:"POST",dataType:"json"},i).then(function(a){h.html(h.template,{cacheServer:c.cacheServer,daynight:c.daynight,result:a,map:g,fbInfo:b})})},function(a){f.extend({step:1})})}},"dom:[data-action=sharefacebook]/click":function(a){a.preventDefault();var c=this,d=(c.$element,b(a.currentTarget)),e=d.data("resultId");FB.ui({method:"feed",link:"http://www.hcmwc2015.com",caption:"Huawei MWC 2015",picture:"http://www.hcmwc2015.com/assets/images/share/share_"+e+".png"},function(a){a&&a.post_id&&alert("Done!")})}})}),define("troopjs-requirejs/template!widget/swipe/index.html",[],function(){return function(a){var b="",c=a.swipeLens,d=a.startSlide,e=a.disableBullets,f=a.bulletsPos,g=0;for(b+='\r\n<ul class="bullets hor">\r\n    ',g=0;c>g;g++)b+='\r\n        <li class="bullets-item ',g===d&&(b+="on"),b+='">\r\n            <a>&bull;</a>\r\n        </li>\r\n    ';return b+="\r\n</ul>\r\n<style>\r\n    .bullets {\r\n        ",b+=e?"\r\n            display: none;\r\n        ":"\r\n            display: inline-block;\r\n        ",b+="\r\n        padding: 0;\r\n        margin: 0;\r\n        ","right"===f?b+="\r\n            position: absolute;\r\n            bottom: 5px;\r\n            right: 10px;\r\n        ":"left"===f&&(b+="\r\n            position: absolute;\r\n            bottom: 5px;\r\n            left: 10px;\r\n        "),b+="\r\n    }\r\n    .bullets > li {\r\n        list-style: none;\r\n        margin-left: 4px;\r\n    }\r\n    .bullets > li > a {\r\n        margin-top: 1px;\r\n        display: block;\r\n        width: 6px;\r\n        height: 6px;\r\n        overflow: hidden;\r\n        background-color: #fff;\r\n        border: 1px solid #666;\r\n        border-radius: 10px;\r\n        text-indent: -5000px;\r\n    }\r\n    .bullets > li.on > a {\r\n        margin-top: 0;\r\n        width: 8px;\r\n        height: 8px;\r\n        background-color: #333;\r\n        border-color: transparent;\r\n    }\r\n\r\n</style>"}}),define("widget/swipe/main",["troopjs-browser/component/widget","jquery","template!./index.html","swipe"],function(a,b,c){"use strict";return a.extend(function(a,b){},{"sig/start":function(){var a=this,d=a.$element,e=parseInt(d.data("startSlide"),10)||0,f=parseInt(d.data("speed"),10)||300,g=parseInt(d.data("auto"),10)||0,h=d.data("continuous")||!0,i=d.data("disableScroll")||!1,j=d.data("disableBullets")||!1,k=d.data("stopPropagation")||!1,l=d.data("bulletsPos")||"center",m=d.find(".swipe-wrap").children().length||0,n=b(c({swipeLens:m,startSlide:e,bulletsPos:l,disableBullets:j}));d.append(n);var o=n.find("> li.bullets-item");d.Swipe({startSlide:e,speed:f,auto:g,continuous:h,disableScroll:i,stopPropagation:k,callback:function(a,b){o.removeClass("on"),o.eq(a).addClass("on")},transitionEnd:function(a,b){}})}})}),define("widget/time/main",["troopjs-core/component/gadget","jquery","context"],function(a,b,c){"use strict";function d(){var a={en:{week:[["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"],["Saturday","Sat"]]},cn:{week:[["星期日","日"],["星期一","一"],["星期二","二"],["星期三","三"],["星期四","四"],["星期五","五"],["星期六","六"]]}},b=c.language||"en";return a[b]}var e=1;return a.extend({getZeroDate:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},getShortDate:function(a){return a.getMonth()+1+"/"+a.getDate()},getWeekStartDate:function(a){var b=this,c=a.getDay()-e;return c=c>=0?c:c+7,b.addDay(a,-1*c)},getDayOfWeekFromMonday:function(a){return 0===a.getDay()?6:a.getDay()-1},getStrDate:function(a,b){return a?(a=new Date(a),b=b||"/",a.getFullYear().toString()+b+(a.getMonth()+1).toString()+b+a.getDate().toString()):""},getWeekName:function(a,b){a=!isNaN(a)&&7>a?a:0;var c=b?1:0,e=d().week;return e[a][c]},addDay:function(a,b){var c=new Date(a);return new Date(c.setDate(c.getDate()+b))},addMonth:function(a,b){var c=new Date(a);return new Date(c.setMonth(c.getMonth()+b))},getDateByString:function(a){var b=new Date(a);return b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b},compareDate:function(a,b){return isFinite(a=a.valueOf())&&isFinite(b=b.valueOf())?(b>a)-(a>b):0/0},between:function(a,b,c){var d=this;return d.compareDate(a,b)<=0&&d.compareDate(a,c)>=0?!0:!1},dayDiff:function(a,b){return parseInt((b-a)/864e5,10)},weekDiff:function(a,b){return parseInt((b-a)/6048e5,10)},getNearestWeekdayDate:function(a,b){var c=this;if(!a)return a;var d=a.getDay();if(b&&b.length>0)do a=c.addDay(a,1),d=a.getDay();while(b.indexOf(d)<0);return a}})});